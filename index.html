<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dress Dynamic - Modern Fashion E-commerce</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
        // NEW "Ethereal Gradient Split" Theme Palette
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6d28d9',   // Deep Violet for accents, links, and text
                        secondary: '#3b82f6', // Bright Blue for the gradient end
                        accent: '#8b5cf6'     // Lighter Violet for the gradient start
                    },
                    borderRadius: {
                        'none': '0px',
                        'sm': '4px',
                        DEFAULT: '8px',
                        'md': '12px',
                        'lg': '16px',
                        'xl': '20px',
                        '2xl': '24px',
                        '3xl': '32px',
                        'full': '9999px',
                        'button': '8px'
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <style>
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.5);
            transition: opacity 0.3s ease-in-out;
        }
        body.modal-open {
            overflow: hidden;
        }
        .modal-content-slide-in {
            animation: slideIn 0.3s ease-in-out forwards;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        /* New styles for the filter slide-in */
        .filter-slide-in {
            animation: slideInFromLeft 0.3s ease-in-out forwards;
        }
        .filter-slide-out {
            animation: slideOutToLeft 0.3s ease-in-out forwards;
        }
        @keyframes slideInFromLeft {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        @keyframes slideOutToLeft {
            from { transform: translateX(0); }
            to { transform: translateX(-100%); }
        }
        /* Helper class for gradient text */
        .gradient-text {
            background: linear-gradient(to right, #8b5cf6, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- Main Wrapper for App Content -->
    <div id="app-wrapper">
        <!-- Header -->
        <header class="sticky top-0 z-40 bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-100">
            <div class="px-6 py-4">
                <div class="flex items-center justify-between">
                    <!-- Logo -->
                    <div class="flex items-center">
                        <a href="#" class="text-2xl font-['Pacifico'] gradient-text logo-link">logo</a>
                    </div>

                    <!-- Search Bar (hidden on mobile) -->
                    <div class="hidden md:flex flex-1 max-w-2xl mx-8">
                        <div class="relative flex w-full">
                            <div class="relative flex-1">
                                <input type="text" placeholder="Search for dresses..." class="w-full pl-4 pr-12 py-3 border border-gray-200 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent text-sm">
                                <div class="absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 flex items-center justify-center">
                                    <i class="ri-search-line text-gray-400"></i>
                                </div>
                            </div>
                            <button class="px-6 py-3 bg-gradient-to-r from-accent to-secondary text-white rounded-r-lg hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                Search
                            </button>
                        </div>
                    </div>

                    <!-- Right Icons -->
                    <div class="flex items-center space-x-2 md:space-x-6">
                         <button id="mobile-search-button" class="md:hidden w-10 h-10 flex items-center justify-center hover:bg-slate-100 rounded-lg transition-colors">
                            <i class="ri-search-line text-xl text-gray-600"></i>
                        </button>
                        <button id="profile-button" class="w-10 h-10 flex items-center justify-center hover:bg-slate-100 rounded-lg transition-colors">
                            <i class="ri-user-line text-xl text-gray-600"></i>
                        </button>
                        <button id="cart-button" class="w-10 h-10 flex items-center justify-center hover:bg-slate-100 rounded-lg transition-colors relative">
                            <i class="ri-shopping-cart-line text-xl text-gray-600"></i>
                            <span id="cart-count-badge" class="absolute -top-1 -right-1 w-5 h-5 bg-primary text-white text-xs rounded-full flex items-center justify-center">0</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Page Container -->
        <div id="page-container">
            
            <!-- Main Content (Default View) -->
            <div id="main-content">
                <!-- Hero Section -->
                <section class="relative h-screen w-full overflow-hidden hero-section bg-gradient-to-br from-accent to-secondary">
                    <div class="relative z-10 h-full flex items-center">
                        <div class="w-full px-6 text-center flex flex-col items-center">
                            <div class="max-w-3xl">
                                <h1 class="text-4xl md:text-6xl font-bold text-white mb-6 leading-tight">
                                    Style Redefined, Uniquely Yours
                                </h1>
                                <p class="text-lg md:text-xl text-white/80 mb-8 leading-relaxed">
                                    From dawn to dusk, find the perfect ensemble that tells your story. Our collection is a blend of modern trends and timeless elegance.
                                </p>
                                <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 justify-center">
                                    <button id="hero-shop-now" class="px-8 py-4 bg-white text-primary rounded-lg hover:bg-slate-100 transition-colors text-lg font-medium !rounded-button whitespace-nowrap shadow-lg">
                                        Shop The Collection
                                    </button>
                                    <button id="hero-view-collection" class="px-8 py-4 border-2 border-white/80 text-white/80 rounded-lg hover:bg-white hover:text-primary transition-colors text-lg font-medium !rounded-button whitespace-nowrap">
                                        View Lookbook
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
    
                <!-- Category Navigation -->
                <section class="py-8 bg-white/80 backdrop-blur-md category-nav">
                    <div class="px-6">
                        <div class="flex space-x-4 overflow-x-auto pb-2">
                            <button class="flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-accent to-secondary text-white rounded-full whitespace-nowrap !rounded-button shadow">
                                <div class="w-5 h-5 flex items-center justify-center"><i class="ri-shirt-line"></i></div>
                                <span>All Dresses</span>
                            </button>
                            <button class="flex items-center space-x-2 px-6 py-3 bg-white text-gray-700 rounded-full hover:bg-slate-100 transition-colors whitespace-nowrap !rounded-button border">
                                <div class="w-5 h-5 flex items-center justify-center"><i class="ri-sun-line"></i></div>
                                <span>Casual</span>
                            </button>
                            <button class="flex items-center space-x-2 px-6 py-3 bg-white text-gray-700 rounded-full hover:bg-slate-100 transition-colors whitespace-nowrap !rounded-button border">
                                 <div class="w-5 h-5 flex items-center justify-center"><i class="ri-briefcase-line"></i></div>
                                <span>Formal</span>
                            </button>
                            <button class="flex items-center space-x-2 px-6 py-3 bg-white text-gray-700 rounded-full hover:bg-slate-100 transition-colors whitespace-nowrap !rounded-button border">
                                <div class="w-5 h-5 flex items-center justify-center"><i class="ri-music-line"></i></div>
                                <span>Party</span>
                            </button>
                             <button class="flex items-center space-x-2 px-6 py-3 bg-white text-gray-700 rounded-full hover:bg-slate-100 transition-colors whitespace-nowrap !rounded-button border">
                                <div class="w-5 h-5 flex items-center justify-center"><i class="ri-heart-line"></i></div>
                                <span>Wedding</span>
                            </button>
                            <button class="flex items-center space-x-2 px-6 py-3 bg-white text-gray-700 rounded-full hover:bg-slate-100 transition-colors whitespace-nowrap !rounded-button border">
                                <div class="w-5 h-5 flex items-center justify-center"><i class="ri-moon-line"></i></div>
                                <span>Evening</span>
                            </button>
                        </div>
                    </div>
                </section>
    
                <!-- Product Listing Section -->
                <div class="relative flex" id="product-listing-section">

                    <!-- ===== CORRECTED: Filter Sidebar for Desktop ===== -->
                    <aside class="hidden lg:block w-80 bg-violet-50/50 border-r border-gray-200 p-6 min-h-screen">
                        <!-- Filter content is now duplicated inside the mobile modal -->
                        <div id="desktop-filter-content">
                            <!-- This content will be populated by JS -->
                        </div>
                    </aside>
    
                    <!-- ===== CORRECTED: Product Grid taking full width on mobile ===== -->
                    <main class="flex-1 p-6">
                        <!-- New Arrivals -->
                        <section class="mb-12">
                            <!-- ===== NEW: Mobile Filter Button ===== -->
                            <div class="flex items-center justify-between mb-6">
                                <h2 class="text-2xl font-bold text-slate-800">New Arrivals</h2>
                                <button id="open-filter-button" class="lg:hidden flex items-center space-x-2 px-4 py-2 border rounded-lg text-gray-700 hover:bg-slate-100">
                                    <i class="ri-filter-3-line"></i>
                                    <span>Filters</span>
                                </button>
                                <button class="hidden lg:block text-primary hover:text-accent font-medium">View All</button>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                                <!-- Product Card 1 -->
                                <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow group product-card">
                                    <div class="relative overflow-hidden rounded-t-lg">
                                        <img src="https://readdy.ai/api/search-image?query=elegant%20floral%20summer%20dress%20on%20white%20background%20with%20soft%20studio%20lighting%20perfect%20for%20ecommerce%20product%20photography%20clean%20minimal%20style&width=400&height=500&seq=product001&orientation=portrait" alt="Floral Summer Dress" class="w-full h-80 object-cover object-top group-hover:scale-105 transition-transform duration-300">
                                        <div class="absolute top-3 left-3">
                                            <span class="bg-primary text-white px-2 py-1 rounded-full text-xs font-medium">NEW</span>
                                        </div>
                                    </div>
                                    <div class="p-4">
                                        <h3 class="font-medium text-slate-800 mb-1">Floral Summer Dress</h3>
                                        <p class="text-gray-600 text-sm mb-2">Perfect for casual outings</p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-lg font-bold text-slate-800">$89.99</span>
                                        </div>
                                        <button class="w-full mt-3 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
    
                                <!-- Product Card 2 -->
                                <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow group product-card">
                                    <div class="relative overflow-hidden rounded-t-lg">
                                        <img src="https://readdy.ai/api/search-image?query=sophisticated%20black%20evening%20dress%20on%20white%20background%20with%20professional%20studio%20lighting%20elegant%20fashion%20photography%20for%20luxury%20ecommerce&width=400&height=500&seq=product002&orientation=portrait" alt="Black Evening Dress" class="w-full h-80 object-cover object-top group-hover:scale-105 transition-transform duration-300">
                                    </div>
                                    <div class="p-4">
                                        <h3 class="font-medium text-slate-800 mb-1">Black Evening Dress</h3>
                                        <p class="text-gray-600 text-sm mb-2">Elegant formal wear</p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-lg font-bold text-slate-800">$159.99</span>
                                        </div>
                                        <button class="w-full mt-3 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
    
                                <!-- Product Card 3 -->
                                <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow group product-card">
                                    <div class="relative overflow-hidden rounded-t-lg">
                                        <img src="https://readdy.ai/api/search-image?query=casual%20denim%20dress%20on%20white%20background%20with%20natural%20lighting%20modern%20fashion%20photography%20for%20online%20store%20clean%20minimal%20style&width=400&height=500&seq=product003&orientation=portrait" alt="Casual Denim Dress" class="w-full h-80 object-cover object-top group-hover:scale-105 transition-transform duration-300">
                                    </div>
                                    <div class="p-4">
                                        <h3 class="font-medium text-slate-800 mb-1">Casual Denim Dress</h3>
                                        <p class="text-gray-600 text-sm mb-2">Comfortable everyday style</p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-lg font-bold text-slate-800">$69.99</span>
                                        </div>
                                        <button class="w-full mt-3 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
    
                                <!-- Product Card 4 -->
                                <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow group product-card">
                                    <div class="relative overflow-hidden rounded-t-lg">
                                        <img src="https://readdy.ai/api/search-image?query=elegant%20red%20cocktail%20dress%20on%20white%20background%20with%20professional%20studio%20lighting%20luxury%20fashion%20photography%20for%20premium%20ecommerce&width=400&height=500&seq=product004&orientation=portrait" alt="Red Cocktail Dress" class="w-full h-80 object-cover object-top group-hover:scale-105 transition-transform duration-300">
                                        <div class="absolute top-3 left-3">
                                            <span class="bg-primary text-white px-2 py-1 rounded-full text-xs font-medium">SALE</span>
                                        </div>
                                    </div>
                                    <div class="p-4">
                                        <h3 class="font-medium text-slate-800 mb-1">Red Cocktail Dress</h3>
                                        <p class="text-gray-600 text-sm mb-2">Perfect for parties</p>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center space-x-2">
                                                <span class="text-lg font-bold text-slate-800">$119.99</span>
                                                <span class="text-sm text-gray-500 line-through">$149.99</span>
                                            </div>
                                        </div>
                                        <button class="w-full mt-3 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </section>
    
                        <!-- Trending Now -->
                        <section class="mb-12">
                            <div class="flex items-center justify-between mb-6">
                                <h2 class="text-2xl font-bold text-slate-800">Trending Now</h2>
                                <button class="text-primary hover:text-accent font-medium">View All</button>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                                <!-- Product Card 5 -->
                                <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow group product-card">
                                    <div class="relative overflow-hidden rounded-t-lg">
                                        <img src="https://readdy.ai/api/search-image?query=bohemian%20maxi%20dress%20with%20floral%20patterns%20on%20white%20background%20with%20soft%20natural%20lighting%20artistic%20fashion%20photography%20for%20trendy%20ecommerce&width=400&height=500&seq=product005&orientation=portrait" alt="Bohemian Maxi Dress" class="w-full h-80 object-cover object-top group-hover:scale-105 transition-transform duration-300">
                                    </div>
                                    <div class="p-4">
                                        <h3 class="font-medium text-slate-800 mb-1">Bohemian Maxi Dress</h3>
                                        <p class="text-gray-600 text-sm mb-2">Free-spirited style</p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-lg font-bold text-slate-800">$94.99</span>
                                        </div>
                                        <button class="w-full mt-3 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Product Card 6 -->
                                <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow group product-card">
                                    <div class="relative overflow-hidden rounded-t-lg">
                                        <img src="https://readdy.ai/api/search-image?query=professional%20business%20dress%20in%20navy%20blue%20on%20white%20background%20with%20clean%20studio%20lighting%20corporate%20fashion%20photography%20for%20office%20wear&width=400&height=500&seq=product006&orientation=portrait" alt="Business Dress" class="w-full h-80 object-cover object-top group-hover:scale-105 transition-transform duration-300">
                                    </div>
                                    <div class="p-4">
                                        <h3 class="font-medium text-slate-800 mb-1">Business Dress</h3>
                                        <p class="text-gray-600 text-sm mb-2">Professional elegance</p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-lg font-bold text-slate-800">$129.99</span>
                                        </div>
                                        <button class="w-full mt-3 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Product Card 7 -->
                                <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow group product-card">
                                    <div class="relative overflow-hidden rounded-t-lg">
                                        <img src="https://readdy.ai/api/search-image?query=vintage%20inspired%20polka%20dot%20dress%20on%20white%20background%20with%20retro%20styling%20classic%20fashion%20photography%20for%20timeless%20ecommerce%20collection&width=400&height=500&seq=product007&orientation=portrait" alt="Vintage Polka Dot Dress" class="w-full h-80 object-cover object-top group-hover:scale-105 transition-transform duration-300">
                                    </div>
                                    <div class="p-4">
                                        <h3 class="font-medium text-slate-800 mb-1">Vintage Polka Dot</h3>
                                        <p class="text-gray-600 text-sm mb-2">Timeless classic</p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-lg font-bold text-slate-800">$79.99</span>
                                        </div>
                                        <button class="w-full mt-3 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
    
                                <!-- Product Card 8 -->
                                <div class="bg-white rounded-lg shadow-sm hover:shadow-xl transition-shadow group product-card">
                                    <div class="relative overflow-hidden rounded-t-lg">
                                        <img src="https://readdy.ai/api/search-image?query=elegant%20white%20wedding%20guest%20dress%20on%20white%20background%20with%20soft%20romantic%20lighting%20bridal%20fashion%20photography%20for%20special%20occasions&width=400&height=500&seq=product008&orientation=portrait" alt="Wedding Guest Dress" class="w-full h-80 object-cover object-top group-hover:scale-105 transition-transform duration-300">
                                        <div class="absolute top-3 left-3">
                                            <span class="bg-primary text-white px-2 py-1 rounded-full text-xs font-medium">POPULAR</span>
                                        </div>
                                    </div>
                                    <div class="p-4">
                                        <h3 class="font-medium text-slate-800 mb-1">Wedding Guest Dress</h3>
                                        <p class="text-gray-600 text-sm mb-2">Special occasion ready</p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-lg font-bold text-slate-800">$189.99</span>
                                        </div>
                                        <button class="w-full mt-3 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </section>
    
                        <!-- Load More -->
                        <div class="text-center">
                            <button class="px-8 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-white transition-colors !rounded-button whitespace-nowrap">
                                Load More Products
                            </button>
                        </div>
                    </main>
                </div>
            </div>
    
            <!-- Checkout Page -->
            <div id="checkout-page" class="hidden">
                <div class="max-w-4xl mx-auto p-8">
                    <h1 class="text-3xl font-bold mb-6 text-slate-800">Checkout</h1>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                        <!-- Shipping Information -->
                        <div>
                            <h2 class="text-xl font-semibold mb-4 text-slate-800">Shipping Information</h2>
                            <form class="space-y-4">
                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                                    <input type="email" id="email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-accent focus:border-accent">
                                </div>
                                <div>
                                    <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                                    <input type="text" id="name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-accent focus:border-accent">
                                </div>
                                <div>
                                    <label for="address" class="block text-sm font-medium text-gray-700">Address</label>
                                    <input type="text" id="address" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-accent focus:border-accent">
                                </div>
                                 <div class="flex space-x-4">
                                    <div class="flex-1">
                                        <label for="city" class="block text-sm font-medium text-gray-700">City</label>
                                        <input type="text" id="city" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-accent focus:border-accent">
                                    </div>
                                    <div class="flex-1">
                                        <label for="zip" class="block text-sm font-medium text-gray-700">ZIP Code</label>
                                        <input type="text" id="zip" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-accent focus:border-accent">
                                    </div>
                                </div>
                            </form>
                        </div>
    
                        <!-- Order Summary & Payment -->
                        <div>
                            <h2 class="text-xl font-semibold mb-4 text-slate-800">Order Summary</h2>
                            <div id="checkout-summary" class="bg-slate-100 p-4 rounded-lg mb-6">
                               <!-- Summary will be populated by JS -->
                            </div>
                            <h2 class="text-xl font-semibold mb-4 text-slate-800">Payment Details</h2>
                            <p class="text-sm text-gray-600 mb-4">This is a demo. Please do not enter real card details.</p>
                            <form class="space-y-4">
                                <div>
                                    <label for="card-number" class="block text-sm font-medium text-gray-700">Card Number</label>
                                    <input type="text" id="card-number" placeholder="**** **** **** 1234" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-accent focus:border-accent">
                                </div>
                                 <div class="flex space-x-4">
                                    <div class="flex-1">
                                        <label for="expiry" class="block text-sm font-medium text-gray-700">Expiry Date</label>
                                        <input type="text" id="expiry" placeholder="MM/YY" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-accent focus:border-accent">
                                    </div>
                                    <div class="flex-1">
                                        <label for="cvc" class="block text-sm font-medium text-gray-700">CVC</label>
                                        <input type="text" id="cvc" placeholder="123" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-accent focus:border-accent">
                                    </div>
                                </div>
                                <button type="button" id="place-order-button" class="w-full mt-6 py-3 px-4 border border-transparent rounded-md shadow-sm text-white bg-gradient-to-r from-accent to-secondary hover:opacity-90 font-medium">Place Order</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile Page -->
            <div id="profile-page" class="hidden">
                <div class="max-w-4xl mx-auto p-8">
                    <h1 class="text-3xl font-bold mb-6 text-slate-800">My Profile</h1>
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                        <p class="text-lg">Welcome back, <span class="font-semibold text-primary">Jane Doe</span>!</p>
                        <p class="text-gray-600 mt-2">This is a simulated profile page. In a real application, you would see your order history, saved addresses, and account settings here.</p>
                        <button id="logout-button" class="mt-6 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">Logout</button>
                    </div>
                </div>
            </div>

        </div>

        <!-- Footer -->
        <footer class="bg-slate-900 text-white mt-16">
            <div class="px-6 py-12">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
                    <!-- Company Info -->
                    <div>
                        <h3 class="text-xl font-['Pacifico'] mb-4 gradient-text">logo</h3>
                        <p class="text-gray-300 mb-4">Discover your perfect dress with our curated collection of elegant fashion for every occasion.</p>
                        <div class="flex space-x-4">
                            <button class="w-10 h-10 bg-slate-800 rounded-lg flex items-center justify-center hover:bg-slate-700 transition-colors">
                                <i class="ri-facebook-fill"></i>
                            </button>
                            <button class="w-10 h-10 bg-slate-800 rounded-lg flex items-center justify-center hover:bg-slate-700 transition-colors">
                                <i class="ri-instagram-line"></i>
                            </button>
                            <button class="w-10 h-10 bg-slate-800 rounded-lg flex items-center justify-center hover:bg-slate-700 transition-colors">
                                <i class="ri-twitter-line"></i>
                            </button>
                        </div>
                    </div>
    
                    <!-- Customer Service -->
                    <div>
                        <h4 class="font-semibold mb-4">Customer Service</h4>
                        <ul class="space-y-2 text-gray-300">
                            <li><a href="#" class="hover:text-white transition-colors">Contact Us</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">Size Guide</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">Return Policy</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">Shipping Info</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">FAQ</a></li>
                        </ul>
                    </div>
    
                    <!-- Quick Links -->
                    <div>
                        <h4 class="font-semibold mb-4">Quick Links</h4>
                        <ul class="space-y-2 text-gray-300">
                            <li><a href="#" class="hover:text-white transition-colors">New Arrivals</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">Best Sellers</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">Sale</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">Gift Cards</a></li>
                            <li><a href="#" class="hover:text-white transition-colors">About Us</a></li>
                        </ul>
                    </div>
    
                    <!-- Newsletter -->
                    <div>
                        <h4 class="font-semibold mb-4">Stay Updated</h4>
                        <p class="text-gray-300 mb-4">Subscribe to get special offers and updates</p>
                        <div class="flex space-x-2">
                            <input type="email" placeholder="Enter your email" class="flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded text-white placeholder-gray-400 focus:outline-none focus:border-accent text-sm">
                            <button class="px-4 py-2 bg-gradient-to-r from-accent to-secondary text-white rounded hover:opacity-90 transition-opacity !rounded-button whitespace-nowrap">
                                Subscribe
                            </button>
                        </div>
                    </div>
                </div>
    
                <!-- Payment Methods -->
                <div class="border-t border-slate-700 pt-8">
                    <div class="flex flex-col md:flex-row items-center justify-between">
                        <div class="flex items-center space-x-4 mb-4 md:mb-0">
                            <span class="text-gray-300">We Accept:</span>
                            <div class="flex space-x-3">
                                <div class="w-8 h-8 flex items-center justify-center"><i class="ri-visa-fill text-2xl"></i></div>
                                <div class="w-8 h-8 flex items-center justify-center"><i class="ri-mastercard-fill text-2xl"></i></div>
                                <div class="w-8 h-8 flex items-center justify-center"><i class="ri-paypal-fill text-2xl"></i></div>
                                <div class="w-8 h-8 flex items-center justify-center"><i class="ri-apple-fill text-2xl"></i></div>
                            </div>
                        </div>
                        <p class="text-gray-400 text-sm text-center md:text-right">© 2025 Dress Dynamic. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- Mobile Bottom Navigation -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 lg:hidden z-50">
        <div class="flex items-center justify-around py-2">
            <button class="flex flex-col items-center py-2 px-3">
                <div class="w-6 h-6 flex items-center justify-center"><i class="ri-home-line text-xl text-primary"></i></div>
                <span class="text-xs text-primary mt-1">Home</span>
            </button>
            <button class="flex flex-col items-center py-2 px-3">
                <div class="w-6 h-6 flex items-center justify-center"><i class="ri-search-line text-xl text-gray-600"></i></div>
                <span class="text-xs text-gray-600 mt-1">Search</span>
            </button>
            <button class="flex flex-col items-center py-2 px-3">
                <div class="w-6 h-6 flex items-center justify-center"><i class="ri-heart-line text-xl text-gray-600"></i></div>
                <span class="text-xs text-gray-600 mt-1">Wishlist</span>
            </button>
            <button class="flex flex-col items-center py-2 px-3 relative">
                <div class="w-6 h-6 flex items-center justify-center"><i class="ri-shopping-cart-line text-xl text-gray-600"></i></div>
                <span class="absolute -top-1 right-2 w-4 h-4 bg-primary text-white text-xs rounded-full flex items-center justify-center mobile-cart-count">0</span>
                <span class="text-xs text-gray-600 mt-1">Cart</span>
            </button>
            <button class="flex flex-col items-center py-2 px-3">
                <div class="w-6 h-6 flex items-center justify-center"><i class="ri-user-line text-xl text-gray-600"></i></div>
                <span class="text-xs text-gray-600 mt-1">Profile</span>
            </button>
        </div>
    </div>

    <!-- Modals Container -->
    <div id="modal-container">
        <!-- Auth Modal -->
        <div id="auth-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay hidden">
            <div class="relative bg-white rounded-lg shadow-xl w-full max-w-md">
                <div class="p-6">
                    <button class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 close-modal-button">
                        <i class="ri-close-line text-2xl"></i>
                    </button>
                    <div class="border-b border-gray-200 mb-4">
                        <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                            <button id="login-tab" class="whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm text-primary border-primary">
                                Login
                            </button>
                            <button id="signup-tab" class="whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300">
                                Sign Up
                            </button>
                        </nav>
                    </div>
                    <div id="login-form">
                        <form class="space-y-4">
                            <div>
                                <label for="login-email" class="block text-sm font-medium text-gray-700">Email</label>
                                <input type="email" id="login-email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" value="test@example.com">
                            </div>
                            <div>
                                <label for="login-password" class="block text-sm font-medium text-gray-700">Password</label>
                                <input type="password" id="login-password" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3" value="password123">
                            </div>
                            <button type="submit" class="w-full py-3 px-4 text-white bg-gradient-to-r from-accent to-secondary rounded-lg font-medium hover:opacity-90">Login</button>
                        </form>
                    </div>
                    <div id="signup-form" class="hidden">
                        <form class="space-y-4">
                            <div>
                                <label for="signup-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                                <input type="text" id="signup-name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                            </div>
                            <div>
                                <label for="signup-email" class="block text-sm font-medium text-gray-700">Email</label>
                                <input type="email" id="signup-email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                            </div>
                            <div>
                                <label for="signup-password" class="block text-sm font-medium text-gray-700">Password</label>
                                <input type="password" id="signup-password" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3">
                            </div>
                            <button type="submit" class="w-full py-3 px-4 text-white bg-gradient-to-r from-accent to-secondary rounded-lg font-medium hover:opacity-90">Create Account</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Cart Modal -->
        <div id="cart-modal" class="fixed inset-0 z-50 flex items-center justify-end modal-overlay hidden">
            <div class="relative bg-white h-full w-full max-w-lg shadow-xl flex flex-col modal-content-slide-in">
                <div class="p-6 border-b flex items-center justify-between">
                    <h2 class="text-xl font-semibold text-slate-800">Shopping Cart</h2>
                    <button class="text-gray-400 hover:text-gray-600 close-modal-button">
                        <i class="ri-close-line text-2xl"></i>
                    </button>
                </div>
                <div id="cart-items-container" class="flex-grow p-6 overflow-y-auto bg-slate-50">
                    <!-- Cart items will be populated here by JS -->
                </div>
                <div class="p-6 border-t bg-white">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-lg font-medium text-slate-800">Subtotal</span>
                        <span id="cart-subtotal" class="text-xl font-semibold text-slate-800">$0.00</span>
                    </div>
                    <button id="checkout-button" class="w-full py-3 px-4 text-white bg-gradient-to-r from-accent to-secondary rounded-lg font-medium hover:opacity-90">Proceed to Checkout</button>
                </div>
            </div>
        </div>

        <!-- ===== NEW: Mobile Filter Modal ===== -->
        <div id="filter-modal" class="fixed inset-0 z-50 hidden">
            <!-- Backdrop -->
            <div id="filter-backdrop" class="fixed inset-0 bg-black/50"></div>
            <!-- Content -->
            <div id="filter-content-wrapper" class="relative bg-white h-full w-full max-w-xs shadow-xl flex flex-col filter-slide-out">
                <div class="flex-grow overflow-y-auto p-6">
                   <!-- Mobile filter content will be injected here by JS -->
                </div>
                <div class="p-4 border-t bg-white">
                    <button id="close-filter-button" class="w-full py-3 px-4 text-white bg-gradient-to-r from-accent to-secondary rounded-lg font-medium hover:opacity-90">View Results</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== JAVASCRIPT ===== -->
    <script id="main-app-script">
    document.addEventListener('DOMContentLoaded', function() {
        // --- DATA & STATE MANAGEMENT ---

        const allProductsData = [
            { id: 'prod-0', name: 'Floral Summer Dress', price: 89.99, image: 'https://readdy.ai/api/search-image?query=elegant%20floral%20summer%20dress%20on%20white%20background%20with%20soft%20studio%20lighting%20perfect%20for%20ecommerce%20product%20photography%20clean%20minimal%20style&width=400&height=500&seq=product001&orientation=portrait', category: 'casual', sizes: ['s','m','l'], color: 'pink', style: 'a-line' },
            { id: 'prod-1', name: 'Black Evening Dress', price: 159.99, image: 'https://readdy.ai/api/search-image?query=sophisticated%20black%20evening%20dress%20on%20white%20background%20with%20professional%20studio%20lighting%20elegant%20fashion%20photography%20for%20luxury%20ecommerce&width=400&height=500&seq=product002&orientation=portrait', category: 'formal', sizes: ['m','l','xl'], color: 'black', style: 'bodycon' },
            { id: 'prod-2', name: 'Casual Denim Dress', price: 69.99, image: 'https://readdy.ai/api/search-image?query=casual%20denim%20dress%20on%20white%20background%20with%20natural%20lighting%20modern%20fashion%20photography%20for%20online%20store%20clean%20minimal%20style&width=400&height=500&seq=product003&orientation=portrait', category: 'casual', sizes: ['xs','s','m'], color: 'blue', style: 'a-line' },
            { id: 'prod-3', name: 'Red Cocktail Dress', price: 119.99, image: 'https://readdy.ai/api/search-image?query=elegant%20red%20cocktail%20dress%20on%20white%20background%20with%20professional%20studio%20lighting%20luxury%20fashion%20photography%20for%20premium%20ecommerce&width=400&height=500&seq=product004&orientation=portrait', category: 'party', sizes: ['s','m'], color: 'red', style: 'bodycon' },
            { id: 'prod-4', name: 'Bohemian Maxi Dress', price: 94.99, image: 'https://readdy.ai/api/search-image?query=bohemian%20maxi%20dress%20with%20floral%20patterns%20on%20white%20background%20with%20soft%20natural%20lighting%20artistic%20fashion%20photography%20for%20trendy%20ecommerce&width=400&height=500&seq=product005&orientation=portrait', category: 'casual', sizes: ['s','l','xl'], color: 'pink', style: 'maxi' },
            { id: 'prod-5', name: 'Business Dress', price: 129.99, image: 'https://readdy.ai/api/search-image?query=professional%20business%20dress%20in%20navy%20blue%20on%20white%20background%20with%20clean%20studio%20lighting%20corporate%20fashion%20photography%20for%20office%20wear&width=400&height=500&seq=product006&orientation=portrait', category: 'formal', sizes: ['m','l','xl'], color: 'blue', style: 'midi' },
            { id: 'prod-6', name: 'Vintage Polka Dot', price: 79.99, image: 'https://readdy.ai/api/search-image?query=vintage%20inspired%20polka%20dot%20dress%20on%20white%20background%20with%20retro%20styling%20classic%20fashion%20photography%20for%20timeless%20ecommerce%20collection&width=400&height=500&seq=product007&orientation=portrait', category: 'party', sizes: ['xs','s','m'], color: 'black', style: 'a-line' },
            { id: 'prod-7', name: 'Wedding Guest Dress', price: 189.99, image: 'https://readdy.ai/api/search-image?query=elegant%20white%20wedding%20guest%20dress%20on%20white%20background%20with%20soft%20romantic%20lighting%20bridal%20fashion%20photography%20for%20special%20occasions&width=400&height=500&seq=product008&orientation=portrait', category: 'wedding', sizes: ['s','m','l'], color: 'white', style: 'maxi' }
        ];

        let isLoggedIn = false;
        let cart = [];
        let filters = {
            category: 'all dresses',
            price: 500,
            size: null,
            color: null,
            styles: []
        };
        
        const allProductCards = document.querySelectorAll('.product-card');
        const productListingSection = document.getElementById('product-listing-section');

        // --- NEW: Filter HTML Content Generation ---
        const filterHTML = `
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-lg font-semibold text-slate-800">Filters</h3>
                <button class="clear-filters-button text-primary hover:text-accent text-sm font-medium">Clear All</button>
            </div>
            <div class="mb-8">
                <h4 class="font-medium text-slate-800 mb-4">Price Range</h4>
                <div class="relative">
                    <input type="range" min="0" max="500" value="500" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider">
                    <div class="flex justify-between text-sm text-gray-600 mt-2">
                        <span>$0</span>
                        <span class="price-range-value">$500</span>
                    </div>
                </div>
            </div>
            <div class="size-filter mb-8">
                <h4 class="font-medium text-slate-800 mb-4">Size</h4>
                <div class="grid grid-cols-4 gap-2">
                    <button class="px-3 py-2 border border-gray-200 rounded text-sm bg-white hover:border-primary hover:text-primary transition-colors">XS</button>
                    <button class="px-3 py-2 border border-gray-200 rounded text-sm bg-white hover:border-primary hover:text-primary transition-colors">S</button>
                    <button class="px-3 py-2 border border-gray-200 rounded text-sm bg-white hover:border-primary hover:text-primary transition-colors">M</button>
                    <button class="px-3 py-2 border border-gray-200 rounded text-sm bg-white hover:border-primary hover:text-primary transition-colors">L</button>
                    <button class="px-3 py-2 border border-gray-200 rounded text-sm bg-white hover:border-primary hover:text-primary transition-colors">XL</button>
                    <button class="px-3 py-2 border border-gray-200 rounded text-sm bg-white hover:border-primary hover:text-primary transition-colors">XXL</button>
                </div>
            </div>
            <div class="color-filter mb-8">
                <h4 class="font-medium text-slate-800 mb-4">Color</h4>
                <div class="grid grid-cols-6 gap-3">
                    <button data-color="black" class="w-8 h-8 rounded-full bg-black border-2 border-gray-300 hover:border-gray-600"></button>
                    <button data-color="white" class="w-8 h-8 rounded-full bg-white border-2 border-gray-300 hover:border-gray-600"></button>
                    <button data-color="red" class="w-8 h-8 rounded-full bg-red-500 border-2 border-gray-300 hover:border-gray-600"></button>
                    <button data-color="blue" class="w-8 h-8 rounded-full bg-blue-500 border-2 border-gray-300 hover:border-gray-600"></button>
                    <button data-color="green" class="w-8 h-8 rounded-full bg-green-500 border-2 border-gray-300 hover:border-gray-600"></button>
                    <button data-color="pink" class="w-8 h-8 rounded-full bg-pink-500 border-2 border-gray-300 hover:border-gray-600"></button>
                </div>
            </div>
            <div class="style-filter mb-8">
                <h4 class="font-medium text-slate-800 mb-4">Style</h4>
                <div class="space-y-3">
                    <label class="flex items-center cursor-pointer"><input type="checkbox" class="sr-only" data-style="a-line"><div class="w-5 h-5 border-2 border-gray-300 rounded flex items-center justify-center transition-colors bg-white"><i class="ri-check-line text-white text-sm"></i></div><span class="ml-3 text-gray-700">A-Line</span></label>
                    <label class="flex items-center cursor-pointer"><input type="checkbox" class="sr-only" data-style="bodycon"><div class="w-5 h-5 border-2 border-gray-300 rounded flex items-center justify-center transition-colors bg-white"><i class="ri-check-line text-white text-sm"></i></div><span class="ml-3 text-gray-700">Bodycon</span></label>
                    <label class="flex items-center cursor-pointer"><input type="checkbox" class="sr-only" data-style="maxi"><div class="w-5 h-5 border-2 border-gray-300 rounded flex items-center justify-center transition-colors bg-white"><i class="ri-check-line text-white text-sm"></i></div><span class="ml-3 text-gray-700">Maxi</span></label>
                    <label class="flex items-center cursor-pointer"><input type="checkbox" class="sr-only" data-style="midi"><div class="w-5 h-5 border-2 border-gray-300 rounded flex items-center justify-center transition-colors bg-white"><i class="ri-check-line text-white text-sm"></i></div><span class="ml-3 text-gray-700">Midi</span></label>
                </div>
            </div>
        `;
        document.getElementById('desktop-filter-content').innerHTML = filterHTML;
        document.querySelector('#filter-content-wrapper .flex-grow').innerHTML = filterHTML;

        // --- FILTERING LOGIC ---

        function applyFilters() {
            allProductCards.forEach((card, index) => {
                const product = allProductsData[index];
                
                const categoryMatch = filters.category === 'all dresses' || product.category === filters.category;
                const priceMatch = product.price <= filters.price;
                const sizeMatch = !filters.size || product.sizes.includes(filters.size);
                const colorMatch = !filters.color || product.color === filters.color;
                const styleMatch = filters.styles.length === 0 || filters.styles.includes(product.style);
                
                if (categoryMatch && priceMatch && sizeMatch && colorMatch && styleMatch) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        document.querySelector('.category-nav').addEventListener('click', e => {
            const button = e.target.closest('button');
            if (!button) return;
            
            document.querySelectorAll('.category-nav button').forEach(btn => {
                btn.classList.remove('bg-gradient-to-r', 'from-accent', 'to-secondary', 'text-white', 'shadow');
                btn.classList.add('bg-white', 'text-gray-700', 'border');
            });
            button.classList.add('bg-gradient-to-r', 'from-accent', 'to-secondary', 'text-white', 'shadow');
            button.classList.remove('bg-white', 'text-gray-700', 'border');
            
            filters.category = button.querySelector('span').textContent.toLowerCase();
            applyFilters();
        });

        // Use a function to attach filter event listeners to avoid repetition
        function attachFilterListeners(container) {
            const priceSlider = container.querySelector('.slider');
            priceSlider.addEventListener('input', e => {
                filters.price = parseInt(e.target.value);
                document.querySelectorAll('.price-range-value').forEach(el => el.textContent = `$${filters.price}`);
                const percentage = (filters.price / 500) * 100;
                document.querySelectorAll('.slider').forEach(slider => {
                    slider.value = filters.price;
                    slider.style.background = `linear-gradient(to right, #8b5cf6 0%, #3b82f6 ${percentage}%, #e5e7eb ${percentage}%, #e5e7eb 100%)`;
                });
                applyFilters();
            });
            priceSlider.dispatchEvent(new Event('input'));

            const sizeFilterContainer = container.querySelector('.size-filter');
            sizeFilterContainer.addEventListener('click', e => {
                const button = e.target.closest('button');
                if (!button) return;
                const selectedSize = button.textContent.toLowerCase();
                
                if (filters.size === selectedSize) {
                    filters.size = null;
                } else {
                    filters.size = selectedSize;
                }
                
                document.querySelectorAll('.size-filter button').forEach(btn => {
                     btn.classList.toggle('bg-primary', btn.textContent.toLowerCase() === filters.size);
                     btn.classList.toggle('text-white', btn.textContent.toLowerCase() === filters.size);
                     btn.classList.toggle('border-primary', btn.textContent.toLowerCase() === filters.size);
                });
                applyFilters();
            });

            const colorFilterContainer = container.querySelector('.color-filter');
            colorFilterContainer.addEventListener('click', e => {
                const button = e.target.closest('button');
                if (!button) return;
                const selectedColor = button.dataset.color;

                if (filters.color === selectedColor) {
                    filters.color = null;
                } else {
                    filters.color = selectedColor;
                }
                document.querySelectorAll('.color-filter button').forEach(btn => {
                    btn.classList.toggle('border-primary', btn.dataset.color === filters.color);
                    btn.classList.toggle('border-4', btn.dataset.color === filters.color);
                });
                applyFilters();
            });

            const styleFilterContainer = container.querySelector('.style-filter');
            styleFilterContainer.addEventListener('change', e => {
                if (e.target.matches('input[type="checkbox"]')) {
                    const style = e.target.dataset.style;
                    if (e.target.checked) {
                        filters.styles.push(style);
                    } else {
                        filters.styles = filters.styles.filter(s => s !== style);
                    }
                    
                    document.querySelectorAll(`.style-filter input[data-style="${style}"]`).forEach(cb => {
                        cb.checked = e.target.checked;
                        const customCheckbox = cb.nextElementSibling;
                        customCheckbox.classList.toggle('bg-primary', cb.checked);
                        customCheckbox.classList.toggle('border-primary', cb.checked);
                    });
                    applyFilters();
                }
            });
        }

        attachFilterListeners(document.getElementById('desktop-filter-content'));
        attachFilterListeners(document.querySelector('#filter-content-wrapper'));
        
        document.querySelectorAll('.clear-filters-button').forEach(button => {
            button.addEventListener('click', () => {
                filters = { category: 'all dresses', price: 500, size: null, color: null, styles: [] };
                
                document.querySelectorAll('.slider').forEach(slider => {
                    slider.value = 500;
                    slider.dispatchEvent(new Event('input')); 
                });
                document.querySelectorAll('.size-filter button').forEach(btn => btn.classList.remove('bg-primary', 'text-white', 'border-primary'));
                document.querySelectorAll('.color-filter button').forEach(btn => btn.classList.remove('border-primary', 'border-4'));
                document.querySelectorAll('.style-filter input[type="checkbox"]').forEach(cb => {
                    cb.checked = false;
                    const customCheckbox = cb.nextElementSibling;
                    customCheckbox.classList.remove('bg-primary', 'border-primary');
                });
                document.querySelector('.category-nav button').click(); 
                applyFilters();
            });
        });
        
        // --- NEW: Mobile Filter Modal Logic ---
        const filterModal = document.getElementById('filter-modal');
        const openFilterButton = document.getElementById('open-filter-button');
        const closeFilterButton = document.getElementById('close-filter-button');
        const filterBackdrop = document.getElementById('filter-backdrop');
        const filterContentWrapper = document.getElementById('filter-content-wrapper');

        function openFilterModal() {
            filterModal.classList.remove('hidden');
            document.body.classList.add('modal-open');
            filterContentWrapper.classList.remove('filter-slide-out');
            filterContentWrapper.classList.add('filter-slide-in');
        }

        function closeFilterModal() {
            filterContentWrapper.classList.remove('filter-slide-in');
            filterContentWrapper.classList.add('filter-slide-out');
            setTimeout(() => {
                filterModal.classList.add('hidden');
                document.body.classList.remove('modal-open');
            }, 300); // Match animation duration
        }

        openFilterButton.addEventListener('click', openFilterModal);
        closeFilterButton.addEventListener('click', closeFilterModal);
        filterBackdrop.addEventListener('click', closeFilterModal);


        // --- SCROLLING & HERO BUTTONS ---
        document.getElementById('hero-shop-now').addEventListener('click', () => productListingSection.scrollIntoView({ behavior: 'smooth' }));
        document.getElementById('hero-view-collection').addEventListener('click', () => productListingSection.scrollIntoView({ behavior: 'smooth' }));

        // --- CART, MODAL, CHECKOUT, AUTH LOGIC ---
        const profileButton = document.getElementById('profile-button');
        const cartButton = document.getElementById('cart-button');
        const authModal = document.getElementById('auth-modal');
        const cartModal = document.getElementById('cart-modal');
        const closeModalButtons = document.querySelectorAll('.close-modal-button');
        const mainContent = document.getElementById('main-content');
        const checkoutPage = document.getElementById('checkout-page');
        const profilePage = document.getElementById('profile-page');
        const logoLink = document.querySelector('.logo-link');

        function showPage(page) {
            mainContent.classList.add('hidden');
            checkoutPage.classList.add('hidden');
            profilePage.classList.add('hidden');
            
            if (page === 'main') mainContent.classList.remove('hidden');
            else if (page === 'checkout') checkoutPage.classList.remove('hidden');
            else if (page === 'profile') profilePage.classList.remove('hidden');
            
            window.scrollTo(0, 0);
        }

        logoLink.addEventListener('click', (e) => {
            e.preventDefault();
            showPage('main');
        });

        function openModal(modal) {
            modal.classList.remove('hidden');
            document.body.classList.add('modal-open');
        }

        function closeModal() {
            authModal.classList.add('hidden');
            cartModal.classList.add('hidden');
            if (!filterModal.classList.contains('hidden')) { // don't remove if filter modal is open
                return;
            }
            document.body.classList.remove('modal-open');
        }

        profileButton.addEventListener('click', () => {
            if (isLoggedIn) showPage('profile');
            else openModal(authModal);
        });
        
        cartButton.addEventListener('click', () => openModal(cartModal));
        closeModalButtons.forEach(btn => btn.addEventListener('click', closeModal));
        document.querySelectorAll('.modal-overlay:not(#filter-backdrop)').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                 if (e.target === e.currentTarget) closeModal();
            });
        });

        const loginTab = document.getElementById('login-tab');
        const signupTab = document.getElementById('signup-tab');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const logoutButton = document.getElementById('logout-button');

        loginTab.addEventListener('click', () => {
            loginTab.classList.add('text-primary', 'border-primary');
            signupTab.classList.remove('text-primary', 'border-primary');
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
        });

        signupTab.addEventListener('click', () => {
            signupTab.classList.add('text-primary', 'border-primary');
            loginTab.classList.remove('text-primary', 'border-primary');
            signupForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
        });

        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Login successful! (This is a simulation)');
            isLoggedIn = true;
            profileButton.innerHTML = `<i class="ri-account-circle-fill text-xl text-primary"></i>`;
            closeModal();
        });

        signupForm.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Account created successfully! (This is a simulation)');
            isLoggedIn = true;
            profileButton.innerHTML = `<i class="ri-account-circle-fill text-xl text-primary"></i>`;
            closeModal();
        });

        logoutButton.addEventListener('click', () => {
            isLoggedIn = false;
            profileButton.innerHTML = `<i class="ri-user-line text-xl text-gray-600"></i>`;
            alert('You have been logged out.');
            showPage('main');
        });

        const cartCountBadges = document.querySelectorAll('#cart-count-badge, .mobile-cart-count');
        const cartItemsContainer = document.getElementById('cart-items-container');
        const cartSubtotalEl = document.getElementById('cart-subtotal');
        const checkoutButton = document.getElementById('checkout-button');

        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            alert(`${product.name} added to cart!`);
            renderCart();
        }
        
        function renderCart() {
            cartItemsContainer.innerHTML = '';
            let subtotal = 0;
            let totalItems = 0;
            
            if (cart.length === 0) {
                 cartItemsContainer.innerHTML = `<p class="text-gray-500 text-center mt-8">Your cart is empty.</p>`;
            } else {
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;
                    totalItems += item.quantity;
                    
                    cartItemsContainer.innerHTML += `
                        <div class="flex items-start space-x-4 mb-6" data-id="${item.id}">
                            <img src="${item.image}" alt="${item.name}" class="w-20 h-24 object-cover rounded-md border">
                            <div class="flex-grow">
                                <h3 class="font-medium text-slate-800">${item.name}</h3>
                                <p class="text-gray-600 text-sm">$${item.price.toFixed(2)}</p>
                                <div class="flex items-center mt-3 space-x-3">
                                    <button class="quantity-decrease w-6 h-6 border rounded bg-gray-100 hover:bg-gray-200">-</button>
                                    <span class="w-8 text-center">${item.quantity}</span>
                                    <button class="quantity-increase w-6 h-6 border rounded bg-gray-100 hover:bg-gray-200">+</button>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-semibold text-slate-800">$${itemTotal.toFixed(2)}</p>
                                <button class="text-red-500 text-sm mt-3 hover:underline remove-item">Remove</button>
                            </div>
                        </div>
                    `;
                });
            }

            cartSubtotalEl.textContent = `$${subtotal.toFixed(2)}`;
            cartCountBadges.forEach(badge => badge.textContent = totalItems);
            updateCheckoutSummary();
        }

        cartItemsContainer.addEventListener('click', e => {
            const itemElement = e.target.closest('[data-id]');
            if (!itemElement) return;

            const id = itemElement.dataset.id;
            const item = cart.find(i => i.id === id);
            if (!item) return;

            if (e.target.classList.contains('quantity-increase')) item.quantity++;
            if (e.target.classList.contains('quantity-decrease') && item.quantity > 1) item.quantity--;
            if (e.target.classList.contains('remove-item')) cart = cart.filter(i => i.id !== id);
            
            renderCart();
        });
        
        const checkoutSummaryEl = document.getElementById('checkout-summary');
        const placeOrderButton = document.getElementById('place-order-button');
        
        checkoutButton.addEventListener('click', () => {
            if (cart.length === 0) {
                alert("Your cart is empty.");
                return;
            }
            closeModal();
            showPage('checkout');
        });

        function updateCheckoutSummary() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            if (subtotal === 0) {
                checkoutSummaryEl.innerHTML = '<p class="text-gray-500">No items in cart.</p>';
                return;
            }

            const shipping = 5.00;
            const total = subtotal + shipping;
            
            checkoutSummaryEl.innerHTML = cart.map(item => `
                <div class="flex justify-between text-sm mb-2">
                    <span>${item.name} (x${item.quantity})</span>
                    <span>$${(item.price * item.quantity).toFixed(2)}</span>
                </div>
            `).join('') + `
                <div class="border-t pt-2 mt-2">
                    <div class="flex justify-between text-sm mb-1"><p>Subtotal</p><p>$${subtotal.toFixed(2)}</p></div>
                    <div class="flex justify-between text-sm"><p>Shipping</p><p>$${shipping.toFixed(2)}</p></div>
                    <div class="flex justify-between font-bold text-base mt-2"><p>Total</p><p>$${total.toFixed(2)}</p></div>
                </div>
            `;
        }

        placeOrderButton.addEventListener('click', () => {
             alert('Thank you for your order! (This is a simulation - no payment was processed).');
             cart = [];
             renderCart();
             showPage('main');
        });

        allProductCards.forEach((card, index) => {
             card.querySelector('button.bg-gradient-to-r').addEventListener('click', (e) => {
                e.preventDefault();
                addToCart(allProductsData[index]);
             });
        });
    });
    </script>

</body>
</html>
